(this.webpackJsonpimdb=this.webpackJsonpimdb||[]).push([[0],{37:function(e,t,a){e.exports=a(81)},42:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),c=a.n(i),o=(a(42),a(83)),s=a(14),l=a(2),u=a(3),d=a(5),p=a(4),h=a(6),m=a(8),v=a(10),f=a(22),g=a.n(f),b="request_search",O="search_finished",y="request_single_started",j="request_single_finished",k="http://www.omdbapi.com/?apikey=bcb1b6a3";var E=function(e){return function(t){t({type:b}),g.a.get(k+e).then((function(e){t(function(e){var t=e.data;return{type:O,payload:{isSuccessful:t.Response,errorMessage:t.Error,totalResults:t.totalResults,movies:t.Search}}}(e))}))}},P=function(e){return function(t){t({type:y,isLoading:!0}),g.a.get(k+"&i="+e).then((function(e){t(function(e){return{type:j,isLoading:!1,data:e.data}}(e))}))}},C=function(){var e="";return{getCurrentQuery:function(){return e},setCurrentQuery:function(t){return e=t}}}(),w=(a(64),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={searchValue:"",year:""},a.searchMovie=a.searchMovie.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.clearSearch=a.clearSearch.bind(Object(m.a)(a)),a.selectYear=a.selectYear.bind(Object(m.a)(a)),a.options=function(){for(var e=[],t=2018;t>=1950;t--)e.push(n.a.createElement("option",{key:t},t));return e}(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"clearSearch",value:function(){this.setState({searchValue:"",year:""})}},{key:"selectYear",value:function(e){this.state.year!==e.target.value&&this.setState({year:e.target.value})}},{key:"searchMovie",value:function(){var e="&s=".concat(this.state.searchValue||'""',"&y=").concat(this.state.year);C.setCurrentQuery(e),this.props.dispatch(E("".concat(e,"&page=").concat(1)))}},{key:"render",value:function(){return n.a.createElement("div",{className:"search-bar"},n.a.createElement("input",{className:"search-input",onChange:this.handleChange,value:this.state.searchValue,type:"search"}),n.a.createElement("select",{className:"sort-select",onChange:this.selectYear,value:this.state.year},n.a.createElement("option",{defaultValue:!0},"ANY"),this.options),n.a.createElement("button",{className:"btn submit-btn",onClickCapture:this.searchMovie},"Search"),n.a.createElement("button",{className:"btn clear-btn",onClickCapture:this.clearSearch},"Reset"))}}]),t}(r.Component));w.defaultProps={};var N=Object(v.b)()(w),S=(a(65),a(66),function(e){return n.a.createElement("div",{className:"single-movie",onClickCapture:function(){return e.movieClicked(e.movie.imdbID)}},n.a.createElement("img",{className:"movie-poster",src:"N/A"===e.movie.Poster?"https://www.jakartaplayers.org/uploads/1/2/5/5/12551960/2297419_orig.jpg":e.movie.Poster,alt:"poster"}),n.a.createElement("h3",{className:"movie-title"},e.movie.Title),n.a.createElement("p",{className:"movie-year"},e.movie.Year))});S.defaultProps={};var M=S,L=a(9),R=a.n(L),D=(a(67),n.a.forwardRef((function(e,t){return n.a.createElement("div",{ref:t,className:"movies-container"},e.movies.map((function(t){return n.a.createElement(M,{key:t.imdbID,movie:t,movieClicked:e.movieClicked})})))})));D.propTypes={movies:R.a.array.isRequired,movieClicked:R.a.func.isRequired},D.defaultProps={};var _=D,T=a(19);a(68);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var A=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).state={width:0,height:0},t}return Object(h.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){if(this.nodeRef){var e=i.findDOMNode(this.nodeRef),t=e.getBoundingClientRect();console.log(e),this.setState({width:t.width,height:t.height})}}},{key:"render",value:function(){var t=this,a={width:this.state.width,height:this.state.height},r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props);return delete r.isLoading,this.props.isLoading?n.a.createElement("div",{className:"loading-container"},n.a.createElement("div",{className:"loading",style:a},n.a.createElement("div",{className:"circle circle-one"}),n.a.createElement("div",{className:"circle circle-two"}),n.a.createElement("div",{className:"circle circle-three"})),n.a.createElement(e,Object.assign({ref:function(e){return t.nodeRef=e}},r),"props.children")):n.a.createElement(e,Object.assign({ref:function(e){return t.nodeRef=e}},r),"props.children")}}]),a}(n.a.PureComponent)};A.defaultProps={isLoading:"false"};var V=A,I=(a(69),function(e){return n.a.forwardRef((function(t,a){return t.errorMessage?n.a.createElement("div",{className:"error-box",ref:a},n.a.createElement("h2",null,"Error"),n.a.createElement("div",{className:"error-message"},t.errorMessage)):n.a.createElement(e,Object.assign({},t,{ref:a}),t.children)}))}),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={movies:[],isLoading:!1,errorMessage:""},a.fetchSingleMovie=a.fetchSingleMovie.bind(Object(m.a)(a)),a.loadableMovies=I(_),a.errorableAndLoadable=V(a.loadableMovies),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"fetchSingleMovie",value:function(e){this.props.history.push("/movie/".concat(e)),this.props.dispatch(P(e))}},{key:"render",value:function(){var e=this.errorableAndLoadable;return n.a.createElement(e,{errorMessage:this.state.errorMessage,isLoading:this.state.isLoading,movies:this.state.movies,movieClicked:this.fetchSingleMovie})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e!==t?e:null}}]),t}(r.Component);Y.defaultProps={};var q=Object(v.b)((function(e){var t=e.search,a=t.isLoading,r=t.data;return r?{isLoading:a,movies:r.movies?r.movies:[],isSuccessful:r.isSuccessful,errorMessage:r.errorMessage,totalResults:r.totalResults}:{isLoading:a,movies:[]}}))(Y),B=(a(70),function(e){return n.a.createElement("div",{className:"pagination"},function(t){if(0!==e.totalPages){var a=[],r=t<3?1:t-2,i=t+2+1>e.totalPages?e.totalPages:t+2+1;a.push(n.a.createElement("div",{className:"page-item previous ".concat(e.currentPage<=1?"disabled":""),key:"prev",onClickCapture:function(){return e.pageClicked(e.currentPage-1)}},"PREV")),r>1&&(a.push(n.a.createElement("div",{key:1,className:"page-item",onClickCapture:function(){return e.pageClicked(1)}},1)),a.push(n.a.createElement("div",{key:"space-before",className:"empty-space"},"...")));for(var c=function(r){a.push(n.a.createElement("div",{key:r,className:"page-item ".concat(r===t?"current-page":""),onClickCapture:function(){return e.pageClicked(r)}},r))},o=r;o<=i;o++)c(o);return i<e.totalPages&&(a.push(n.a.createElement("div",{key:"space-after",className:"empty-space"},"...")),a.push(n.a.createElement("div",{key:e.totalPages,className:"page-item",onClickCapture:function(){return e.pageClicked(e.totalPages)}},e.totalPages))),a.push(n.a.createElement("div",{className:"page-item next ".concat(e.currentPage===e.totalPages?"disabled":""),key:"next",onClickCapture:function(){return e.pageClicked(e.currentPage+1)}},"NEXT")),a}}(e.currentPage))});B.defaultProps={totalPages:0,currentPage:0};var Q=B;function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={currentPage:1,totalPages:0},a.pageClicked=a.pageClicked.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"pageClicked",value:function(e){this.state.currentPage!==e&&(this.props.dispatch(E(C.getCurrentQuery()+"&page="+e)),this.setState({currentPage:e}))}},{key:"render",value:function(){return n.a.createElement(Q,{currentPage:this.state.currentPage,totalPages:this.state.totalPages,pageClicked:this.pageClicked})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.totalPages!==t.totalPages?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({currentPage:1},e):e!==t?e:null}}]),t}(r.Component);X.defaultProps={};var J=Object(v.b)((function(e){var t=e.search.data;return{totalPages:t.errorMessage?0:Math.ceil(Number(t.totalResults)/10)||0}}))(X),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(N,this.props),n.a.createElement(q,this.props),n.a.createElement(J,this.props))}}]),t}(r.Component);W.defaultProps={};var G=W,U=(a(71),n.a.forwardRef((function(e,t){var a=function(){var t=e.movie;if(t){delete t.Ratings,delete t.Response;var a=[];for(var r in t)"N/A"!==t[r]&&"Poster"!==r&&t.hasOwnProperty(r)&&a.push(n.a.createElement("div",{key:r,className:"property-row ".concat("Title"===r?"title":"")},n.a.createElement("span",{className:"movie-property"},"Title"===r?"":r+":"),t[r]));return a}}();return n.a.createElement("div",{className:"single-movie-description",ref:t},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:"N/A"===e.movie.Poster?"https://www.jakartaplayers.org/uploads/1/2/5/5/12551960/2297419_orig.jpg":e.movie.Poster,alt:"poster"})),n.a.createElement("div",{className:"movie-properties"},a))})));U.defaultProps={};var $=U,z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={movie:{},isLoading:!1,errorText:""},a.loadableSingleMovie=V($),a.errorableAndLoadable=I(a.loadableSingleMovie),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.movieId=this.props.match.params.id,this.props.dispatch(P(this.movieId))}},{key:"render",value:function(){var e=this.errorableAndLoadable;return n.a.createElement(e,{errorMessage:this.state.errorText,movie:this.state.movie,isLoading:this.state.isLoading})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e!==t?e:null}}]),t}(r.Component);z.defaultProps={};var H=Object(v.b)((function(e){var t=e.singleMovieReducer,a=t.data;return{isLoading:t.isLoading,movie:a,errorText:a.Error}}))(z),K=(a(72),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a.back=a.back.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"back",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return n.a.createElement("div",{className:"single-movie-page"},n.a.createElement("div",{className:"go-back",onClickCapture:this.back},"Go back"),n.a.createElement(H,this.props))}}]),t}(r.Component));K.defaultProps={};var Z=K;a(73),a(74);var ee=function(){return n.a.createElement(o.b,{history:Object(s.a)()},n.a.createElement(o.a,{exact:!0,path:"/",component:G}),n.a.createElement(o.a,{path:"/movie/:id",component:Z}))},te=a(15),ae=a(35);a(80),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=Object(te.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{isLoading:!0,data:e.data};case O:return{data:t.payload,isLoading:!1};default:return e}},singleMovieReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{isLoading:!0,data:e.data};case j:return{data:t.data,isLoading:!1};default:return e}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||te.d,ie=Object(te.e)(re,ne(Object(te.a)(ae.a)));c.a.render(n.a.createElement(v.a,{store:ie},n.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.9670b55d.chunk.js.map